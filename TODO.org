#+TITLE: ElCity TODO

* Mismatches And Bugs
** DONE Align population rules with README or update README and rebalance income (commercial and industrial currently add population).
** DONE Decide City Hall rules: buildable vs demolishable and uniqueness enforcement.

* Gameplay Improvements
** TODO Add per-turn maintenance costs for roads, power, and optionally City Hall to add budget pressure.
** TODO Add residential jobs demand by requiring nearby jobs from commercial or industrial sources.
** TODO Make pollution have ongoing impact beyond blocking residential growth (cap levels, decay penalty, or income reduction).
** TODO Soften decay when power or road is missing (grace period or slower decay).

* UI Improvements
** DONE Add a cursor inspector panel with tile type, level, and power/connect/pollution/workers/goods status.
** DONE Show current overlay and selected tool in the status line.
** DONE Add undo with a small UI-only state history.
** DONE Add a selected-tool mode with placement via SPC or RET to reduce key repetition.

* Visual Improvements
** DONE Give Residential/Commercial/Industrial distinct hues with level-based intensity (e.g., L1 light, L2 bold, L3 bold + box) to read density at a glance.
** DONE Color-code status line metrics: green for funds/income, yellow for warnings, red for critical (unpowered/disconnected/polluted > 0).
** DONE Add a map frame and coordinate ticks (row/col labels) for spatial orientation.
** DONE Highlight cursor with a stronger face and optional crosshair row/column shading for quick scanning.
** DONE Render connected roads brighter than disconnected roads using the connectivity map.
** DONE Soften overlays to avoid drowning tile colors (use subtle background/underline instead of full block).
** DONE Add a small legend line for zone colors and overlay meaning near the status/help panel.
** DONE Add brief visual feedback on build/demolish success (temporary highlight or flash).

* Architecture Improvements
** DONE Return structured results from core actions (state, ok, reason) to remove UI duplication.
** DONE Centralize tile token mapping to avoid duplication in map parsing and UI rendering.
** DONE Add a core helper that returns tile info for UI overlays and inspector panels.
